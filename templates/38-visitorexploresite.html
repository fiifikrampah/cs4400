<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Language" content="en">
    <meta charset="UTF-8">

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
    <script src="../static/js/login.js"></script>

    <!--<script src="../Scripts/login.js"></script>-->

<title>Visitor Explore Site</title>
</head>
<body>
    <div align=center class="container-fluid">
        <h1>Explore Site</h1>
        <form class="form-group" action="/to_vis_visit_history" method="post" enctype="multipart/form-data">
            <div style="width:50%; min-width:500px" align=center>
                <div class="row">
                    <div class="col-xs-6" align=left>
                        <label>Event Name</label>
                        <input type="text" name="name" value="{{filName}}"/>
                    </div>
                    <div class="col-xs-6" align=right>
                        <label>Site</label>
                        <select name="site">
                            {% if filSite == '-ALL-' -%}
                            <option value="-ALL-" selected="selected">-ALL-</option>
                            {% else -%}
                            <option value="-ALL-">-ALL-</option>
                            {%- endif %}

                            {% for site in sites %}
                            {% if filSite == site.SiteName -%}
                            <option value="{{site.SiteName}}" selected="selected">{{site.SiteName}}</option>
                            {% else -%}
                            <option value="{{site.SiteName}}">{{site.SiteName}}</option>
                            {%- endif %}
                            {% endfor %}
                        </select>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-6" align=left>
                        <label>Start Date</label>
                        <input type="date" name="startdate" value="{{filStDate}}"/>
                    </div>
                    <div class="col-xs-6" align=right>
                        <label>End Date</label>
                        <input type="date" name="enddate" value="{{filEndDate}}"/>
                    </div>
                </div>
                <div class="row" align=center>
                    <button type="submit" style="width:125px" name="Filter" formnovalidate>Filter</button>
                </div>
            </div>

            <div align=center style="margin:20px">
                <table class="table table-striped">
                    <tr>
                        <th>Date
                            <button type="submit" class="btn btn-default btn-xs" name="sort" value="Date ASC" formnovalidate>
                                <span class="glyphicon glyphicon-chevron-up" aria-hidden="true"></span>
                            </button>
                            <button type="submit" class="btn btn-default btn-xs" name="sort" value="Date DESC" formnovalidate>
                                <span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span>
                            </button>
                        </th>
                        <th>Event
                            <button type="submit" class="btn btn-default btn-xs" name="sort" value="EventName ASC" formnovalidate>
                                <span class="glyphicon glyphicon-chevron-up" aria-hidden="true"></span>
                            </button>
                            <button type="submit" class="btn btn-default btn-xs" name="sort" value="EventName DESC" formnovalidate>
                                <span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span>
                            </button>
                        </th>
                        <th>Site
                            <button type="submit" class="btn btn-default btn-xs" name="sort" value="SiteName ASC" formnovalidate>
                                <span class="glyphicon glyphicon-chevron-up" aria-hidden="true"></span>
                            </button>
                            <button type="submit" class="btn btn-default btn-xs" name="sort" value="SiteName DESC" formnovalidate>
                                <span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span>
                            </button>
                        </th>
                        <th>Price
                            <button type="submit" class="btn btn-default btn-xs" name="sort" value="Price ASC" formnovalidate>
                                <span class="glyphicon glyphicon-chevron-up" aria-hidden="true"></span>
                            </button>
                            <button type="submit" class="btn btn-default btn-xs" name="sort" value="Price DESC" formnovalidate>
                                <span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span>
                            </button>
                        </th>
                    </tr>

                    {% for visit in visits %}
                    <tr>
                        <td>{{visit.Date}}</td>
                        <td>{{visit.EventName}}</td>
                        <td>{{visit.SiteName}}</td>
                        <td>{{visit.Price}}</td>
                    </tr>
                    {% endfor %}
                </table>
            </div>
            <button type="back"><a href="/back-button">Back</a></button>
        </form>
    </div>
</body>
</html>
